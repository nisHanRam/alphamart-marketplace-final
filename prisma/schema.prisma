generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

// User Related Models
model User {
  id              String         @id @unique
  email           String         @db.VarChar(50)
  username        String         @db.VarChar(100)
  profileImageUrl String         @db.VarChar(255)
  createdAt       DateTime       @default(now()) @db.Timestamptz(3)
  updatedAt       DateTime       @default(now()) @db.Timestamptz(3)
  roles           RolesOnUsers[]
}

model Role {
  id    Int            @id @default(autoincrement())
  role  String         @unique
  users RolesOnUsers[]
}

model RolesOnUsers {
  id     Int    @id @default(autoincrement())
  user   User   @relation(fields: [userId], references: [id])
  userId String
  role   Role   @relation(fields: [roleId], references: [id])
  roleId Int
}

// Assets Related Models
model AssetCategory {
  id          Int      @id @default(autoincrement())
  name        String
  description String
  filters     Filter[]
}

model Filter {
  id            Int            @id @default(autoincrement())
  name          String
  category      AssetCategory  @relation(fields: [categoryId], references: [id])
  categoryId    Int
  filterOptions FilterOption[]
}

model FilterOption {
  id       Int    @id @default(autoincrement())
  name     String
  filter   Filter @relation(fields: [filterId], references: [id])
  filterId Int
}
